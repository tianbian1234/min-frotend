{"ast":null,"code":"import _classCallCheck from \"/Users/a/min_frotend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/a/min_frotend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/a/min_frotend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/a/min_frotend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/a/min_frotend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/a/min_frotend/src/components_common/d3/index.js\";\nimport React, { Component } from 'react';\nvar d3 = window.d3;\n\nvar D3Test =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(D3Test, _Component);\n\n  function D3Test() {\n    _classCallCheck(this, D3Test);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(D3Test).apply(this, arguments));\n  }\n\n  _createClass(D3Test, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var width = 800,\n          height = 800;\n      var svg = d3.select('.container').append('svg').attr('width', width + 'px').attr('width', width + 'px');\n      var projection = d3.geoMercator().center([107, 31]).scale(850).translate([width / 2, height / 2]);\n      var path = d3.geoPath().projection(projection);\n      d3.json(\"./geojson/CHN.json\", function (error, root) {\n        if (error) return console.error(error);\n        console.log(root.features);\n        svg.selectAll(\"path\").data(root.features).enter().append(\"path\").attr(\"stroke\", \"#000\").attr(\"stroke-width\", 1).attr(\"fill\", function (d, i) {\n          return '#f00';\n        }).attr(\"d\", path) //使用地理路径生成器\n        .on(\"mouseover\", function (d, i) {\n          d3.select(this).attr(\"fill\", \"yellow\");\n        }).on(\"mouseout\", function (d, i) {\n          d3.select(this).attr(\"fill\", '#0f0');\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          width: 800,\n          height: 800,\n          background: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return D3Test;\n}(Component);\n\nexport { D3Test as default };","map":{"version":3,"sources":["/Users/a/min_frotend/src/components_common/d3/index.js"],"names":["React","Component","d3","window","D3Test","width","height","svg","select","append","attr","projection","geoMercator","center","scale","translate","path","geoPath","json","error","root","console","log","features","selectAll","data","enter","d","i","on","background"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,IAAMC,EAAE,GAAGC,MAAM,CAACD,EAAlB;;IAEqBE,M;;;;;;;;;;;;;wCAEE;AAEf,UAAIC,KAAK,GAAG,GAAZ;AAAA,UAAiBC,MAAM,GAAG,GAA1B;AAEA,UAAIC,GAAG,GAAGL,EAAE,CAACM,MAAH,CAAU,YAAV,EACLC,MADK,CACE,KADF,EAELC,IAFK,CAEA,OAFA,EAESL,KAAK,GAAG,IAFjB,EAGLK,IAHK,CAGA,OAHA,EAGSL,KAAK,GAAG,IAHjB,CAAV;AAKA,UAAIM,UAAU,GAAGT,EAAE,CAACU,WAAH,GACZC,MADY,CACL,CAAC,GAAD,EAAM,EAAN,CADK,EAEZC,KAFY,CAEN,GAFM,EAGZC,SAHY,CAGF,CAACV,KAAK,GAAE,CAAR,EAAWC,MAAM,GAAE,CAAnB,CAHE,CAAjB;AAIA,UAAIU,IAAI,GAAGd,EAAE,CAACe,OAAH,GACNN,UADM,CACKA,UADL,CAAX;AAGIT,MAAAA,EAAE,CAACgB,IAAH,CAAQ,oBAAR,EAA8B,UAASC,KAAT,EAAgBC,IAAhB,EAAsB;AAE5C,YAAID,KAAJ,EACI,OAAOE,OAAO,CAACF,KAAR,CAAcA,KAAd,CAAP;AACJE,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,QAAjB;AAEAhB,QAAAA,GAAG,CAACiB,SAAJ,CAAc,MAAd,EACKC,IADL,CACWL,IAAI,CAACG,QADhB,EAEKG,KAFL,GAGKjB,MAHL,CAGY,MAHZ,EAIKC,IAJL,CAIU,QAJV,EAImB,MAJnB,EAKKA,IALL,CAKU,cALV,EAKyB,CALzB,EAMKA,IANL,CAMU,MANV,EAMkB,UAASiB,CAAT,EAAWC,CAAX,EAAa;AACvB,iBAAO,MAAP;AACH,SARL,EASKlB,IATL,CASU,GATV,EASeM,IATf,EASwB;AATxB,SAUKa,EAVL,CAUQ,WAVR,EAUoB,UAASF,CAAT,EAAWC,CAAX,EAAa;AACjB1B,UAAAA,EAAE,CAACM,MAAH,CAAU,IAAV,EACIE,IADJ,CACS,MADT,EACgB,QADhB;AAEH,SAbb,EAcamB,EAdb,CAcgB,UAdhB,EAc2B,UAASF,CAAT,EAAWC,CAAX,EAAa;AACxB1B,UAAAA,EAAE,CAACM,MAAH,CAAU,IAAV,EACIE,IADJ,CACS,MADT,EACgB,MADhB;AAEH,SAjBb;AAkBH,OAxBL;AAyBP;;;6BAEO;AACJ,aACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,KAAK,EAAE;AAACL,UAAAA,KAAK,EAAE,GAAR;AAAaC,UAAAA,MAAM,EAAE,GAArB;AAA0BwB,UAAAA,UAAU,EAAE;AAAtC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAKH;;;;EAnD+B7B,S;;SAAfG,M","sourcesContent":["import React, { Component } from 'react';\n\nconst d3 = window.d3;\n\nexport default class D3Test extends Component{\n\n    componentDidMount(){\n\n        let width = 800, height = 800;\n\n        let svg = d3.select('.container')\n            .append('svg')\n            .attr('width', width + 'px')\n            .attr('width', width + 'px')\n\n        let projection = d3.geoMercator()\n            .center([107, 31])\n            .scale(850)\n            .translate([width /2, height/ 2])\n        let path = d3.geoPath()\n            .projection(projection);\n        \n            d3.json(\"./geojson/CHN.json\", function(error, root) {\n                \n                    if (error) \n                        return console.error(error);\n                    console.log(root.features);\n                \n                    svg.selectAll(\"path\")\n                        .data( root.features )\n                        .enter()\n                        .append(\"path\")\n                        .attr(\"stroke\",\"#000\")\n                        .attr(\"stroke-width\",1)\n                        .attr(\"fill\", function(d,i){\n                            return '#f00';\n                        })\n                        .attr(\"d\", path )   //使用地理路径生成器\n                        .on(\"mouseover\",function(d,i){\n                                    d3.select(this)\n                                       .attr(\"fill\",\"yellow\");\n                                })\n                                .on(\"mouseout\",function(d,i){\n                                    d3.select(this)\n                                       .attr(\"fill\",'#0f0');\n                                });\n                });\n    }\n\n    render(){\n        return(\n            <div className='container' style={{width: 800, height: 800, background: '#fff'}}>\n                \n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}