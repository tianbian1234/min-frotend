{"ast":null,"code":"var _jsxFileName = \"/Users/a/min_frotend/src/components/wordcloud3d/index.js\";\nimport React, { useEffect } from 'react';\nimport './index.scss';\nvar data = [{\n  key: '刘国栋',\n  value: Math.random() * 100\n}, {\n  key: '刘翔',\n  value: Math.random() * 100\n}, {\n  key: '高彦涛',\n  value: Math.random() * 100\n}, {\n  key: '郑力鹏',\n  value: Math.random() * 100\n}, {\n  key: '曾侃',\n  value: Math.random() * 100\n}, {\n  key: '海天盛筵',\n  value: Math.random() * 100\n}, {\n  key: '结婚',\n  value: Math.random() * 100\n}, {\n  key: '离婚',\n  value: Math.random() * 100\n}, {\n  key: '儿子',\n  value: Math.random() * 100\n}, {\n  key: '串串',\n  value: Math.random() * 100\n}, {\n  key: '电脑',\n  value: Math.random() * 100\n}, {\n  key: '手机',\n  value: Math.random() * 100\n}, {\n  key: '王李丹妮',\n  value: Math.random() * 100\n}, {\n  key: '三国演义',\n  value: Math.random() * 100\n}, {\n  key: '水浒传',\n  value: Math.random() * 100\n}, {\n  key: '西游记',\n  value: Math.random() * 100\n}, {\n  key: '红楼梦',\n  value: Math.random() * 100\n}, {\n  key: '唐吉坷德',\n  value: Math.random() * 100\n}, {\n  key: '汤姆',\n  value: Math.random() * 100\n}, {\n  key: '杰瑞',\n  value: Math.random() * 100\n}, {\n  key: '熊大',\n  value: Math.random() * 100\n}, {\n  key: '光头强',\n  value: Math.random() * 100\n}, {\n  key: '大白',\n  value: Math.random() * 100\n}, {\n  key: '傻白甜',\n  value: Math.random() * 100\n}, {\n  key: '高富帅',\n  value: Math.random() * 100\n}];\nvar mcList = [];\nvar radius = 180;\nvar sa,\n    ca,\n    sb,\n    cb,\n    sc,\n    cc,\n    oDiv,\n    aA = null,\n    dtr = Math.PI / 180;\nvar distr = true;\nvar active = false;\nvar mouseX = 0,\n    mouseY = 0;\nvar size = 250,\n    tspeed = 20;\nvar lasta = 1,\n    lastb = 1;\nvar howElliptical = 1,\n    d = 600;\n\nvar update = function update() {\n  var a, b;\n\n  if (active) {\n    a = -Math.min(Math.max(-mouseY, -size), size) / radius * tspeed;\n    b = Math.min(Math.max(-mouseX, -size), size) / radius * tspeed;\n  } else {\n    a = lasta * 1;\n    b = lastb * 1;\n  }\n\n  lasta = a;\n  lastb = b;\n\n  if (Math.abs(a) <= 0.01 && Math.abs(b) <= 0.01) {\n    return;\n  }\n\n  var c = 0;\n  sineCosine(a, b, c);\n\n  for (var j = 0; j < mcList.length; j++) {\n    var rx1 = mcList[j].cx;\n    var ry1 = mcList[j].cy * ca + mcList[j].cz * -sa;\n    var rz1 = mcList[j].cy * sa + mcList[j].cz * ca;\n    var rx2 = rx1 * cb + rz1 * sb;\n    var ry2 = ry1;\n    var rz2 = rx1 * -sb + rz1 * cb;\n    var rx3 = rx2 * cc + ry2 * -sc;\n    var ry3 = rx2 * sc + ry2 * cc;\n    var rz3 = rz2;\n    mcList[j].cx = rx3;\n    mcList[j].cy = ry3;\n    mcList[j].cz = rz3;\n    var per = d / (d + rz3);\n    mcList[j].x = howElliptical * rx3 * per - howElliptical * 2;\n    mcList[j].y = ry3 * per;\n    mcList[j].scale = per;\n    mcList[j].alpha = per;\n    mcList[j].alpha = (mcList[j].alpha - 0.6) * (10 / 6);\n  }\n\n  doPosition();\n  depthSort();\n};\n\nvar depthSort = function depthSort() {\n  var i = 0;\n  var aTmp = [];\n\n  for (i = 0; i < aA.length; i++) {\n    aTmp.push(aA[i]);\n  }\n\n  aTmp.sort(function (vItem1, vItem2) {\n    if (vItem1.cz > vItem2.cz) {\n      return -1;\n    } else if (vItem1.cz < vItem2.cz) {\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n\n  for (i = 0; i < aTmp.length; i++) {\n    aTmp[i].style.zIndex = i;\n  }\n};\n\nvar doPosition = function doPosition() {\n  var l = oDiv.offsetWidth / 2;\n  var t = oDiv.offsetHeight / 2;\n\n  for (var i = 0; i < mcList.length; i++) {\n    aA[i].style.left = mcList[i].cx + l - mcList[i].offsetWidth / 2 + 'px';\n    aA[i].style.top = mcList[i].cy + t - mcList[i].offsetHeight / 2 + 'px'; //aA[i].style.fontSize=Math.ceil(12*mcList[i].scale/2)+8+'px';\n\n    aA[i].style.filter = \"alpha(opacity=\" + 100 * mcList[i].alpha + \")\";\n    aA[i].style.opacity = mcList[i].alpha;\n  }\n};\n\nvar sineCosine = function sineCosine(a, b, c) {\n  sa = Math.sin(a * dtr);\n  ca = Math.cos(a * dtr);\n  sb = Math.sin(b * dtr);\n  cb = Math.cos(b * dtr);\n  sc = Math.sin(c * dtr);\n  cc = Math.cos(c * dtr);\n};\n\nvar positionAll = function positionAll() {\n  var phi = 0;\n  var theta = 0;\n  var max = mcList.length;\n  var i = 0;\n  var aTmp = [];\n  var oFragment = document.createDocumentFragment();\n\n  for (i = 0; i < aA.length; i++) {\n    aTmp.push(aA[i]);\n  }\n\n  aTmp.sort(function () {\n    return Math.random() < 0.5 ? 1 : -1;\n  });\n\n  for (i = 0; i < aTmp.length; i++) {\n    oFragment.appendChild(aTmp[i]);\n  }\n\n  oDiv.appendChild(oFragment);\n\n  for (i = 1; i < max + 1; i++) {\n    if (distr) {\n      phi = Math.acos(-1 + (2 * i - 1) / max);\n      theta = Math.sqrt(max * Math.PI) * phi;\n    } else {\n      phi = Math.random() * Math.PI;\n      theta = Math.random() * (2 * Math.PI);\n    }\n\n    mcList[i - 1].cx = radius * Math.cos(theta) * Math.sin(phi);\n    mcList[i - 1].cy = radius * Math.sin(theta) * Math.sin(phi);\n    mcList[i - 1].cz = radius * Math.cos(phi);\n    aA[i - 1].style.left = mcList[i - 1].cx + oDiv.offsetWidth / 2 - mcList[i - 1].offsetWidth / 2 + 'px';\n    aA[i - 1].style.top = mcList[i - 1].cy + oDiv.offsetHeight / 2 - mcList[i - 1].offsetHeight / 2 + 'px';\n  }\n};\n\nvar WordCloud = function WordCloud(props) {\n  useEffect(function () {\n    var container = document.getElementsByClassName('wordcloud3')[0]; // let { width, height } = container.getBoundingClientRect();\n\n    var items = [];\n    data.forEach(function (item) {\n      items.push(\"<a href=\\\"#\\\" style=font-size:\\\"\".concat(item.value, \"px\\\">\").concat(item.key, \"</a>\"));\n    }); // 添加元素到container\n\n    var div = document.createElement('div');\n    div.id = 'div1';\n    div.style.border = 'solid 2px black';\n    div.style.align = 'center';\n    div.innerHTML = items.join(\"\");\n    container.appendChild(div);\n  });\n  useEffect(function () {\n    var oTag = null;\n    oDiv = document.getElementById('div1');\n    aA = oDiv.getElementsByTagName('a');\n\n    for (var i = 0; i < aA.length; i++) {\n      oTag = {};\n      oTag.offsetWidth = aA[i].offsetWidth;\n      oTag.offsetHeight = aA[i].offsetHeight;\n      mcList.push(oTag);\n    }\n\n    sineCosine(0, 0, 0);\n    positionAll();\n\n    oDiv.onmouseover = function () {\n      console.log(\"33334433344\", active);\n      active = true;\n    };\n\n    oDiv.onmouseout = function () {\n      active = false;\n    };\n\n    oDiv.onmousemove = function (ev) {\n      var oEvent = window.event || ev;\n      mouseX = oEvent.clientX - (oDiv.offsetLeft + oDiv.offsetWidth / 2);\n      mouseY = oEvent.clientY - (oDiv.offsetTop + oDiv.offsetHeight / 2);\n      console.log(\"333334445566\", mouseX, mouseY);\n      mouseX /= 5;\n      mouseY /= 5;\n    };\n\n    setInterval(update, 30);\n  });\n  return React.createElement(\"div\", {\n    style: props.style,\n    className: \"wordcloud3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  });\n};\n\nexport default WordCloud;","map":{"version":3,"sources":["/Users/a/min_frotend/src/components/wordcloud3d/index.js"],"names":["React","useEffect","data","key","value","Math","random","mcList","radius","sa","ca","sb","cb","sc","cc","oDiv","aA","dtr","PI","distr","active","mouseX","mouseY","size","tspeed","lasta","lastb","howElliptical","d","update","a","b","min","max","abs","c","sineCosine","j","length","rx1","cx","ry1","cy","cz","rz1","rx2","ry2","rz2","rx3","ry3","rz3","per","x","y","scale","alpha","doPosition","depthSort","i","aTmp","push","sort","vItem1","vItem2","style","zIndex","l","offsetWidth","t","offsetHeight","left","top","filter","opacity","sin","cos","positionAll","phi","theta","oFragment","document","createDocumentFragment","appendChild","acos","sqrt","WordCloud","props","container","getElementsByClassName","items","forEach","item","div","createElement","id","border","align","innerHTML","join","oTag","getElementById","getElementsByTagName","onmouseover","console","log","onmouseout","onmousemove","ev","oEvent","window","event","clientX","offsetLeft","clientY","offsetTop","setInterval"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport './index.scss';\n\nconst data = [\n    {key: '刘国栋', value: Math.random()*100},\n    {key: '刘翔', value: Math.random()*100},\n    {key: '高彦涛', value: Math.random()*100},\n    {key: '郑力鹏', value: Math.random()*100},\n    {key: '曾侃', value: Math.random()*100},\n    {key: '海天盛筵', value: Math.random()*100},\n    {key: '结婚', value: Math.random()*100},\n    {key: '离婚', value: Math.random()*100},\n    {key: '儿子', value: Math.random()*100},\n    {key: '串串', value: Math.random()*100},\n    {key: '电脑', value: Math.random()*100},\n    {key: '手机', value: Math.random()*100},\n    {key: '王李丹妮', value: Math.random()*100},\n    {key: '三国演义', value: Math.random()*100},\n    {key: '水浒传', value: Math.random()*100},\n    {key: '西游记', value: Math.random()*100},\n    {key: '红楼梦', value: Math.random()*100},\n    {key: '唐吉坷德', value: Math.random()*100},\n    {key: '汤姆', value: Math.random()*100},\n    {key: '杰瑞', value: Math.random()*100},\n    {key: '熊大', value: Math.random()*100},\n    {key: '光头强', value: Math.random()*100},\n    {key: '大白', value: Math.random()*100},\n    {key: '傻白甜', value: Math.random()*100},\n    {key: '高富帅', value: Math.random()*100},\n]\nvar mcList = [];\nvar radius = 180;\nvar sa, ca, sb, cb, sc, cc, oDiv, aA = null, dtr = Math.PI/180;\nvar distr = true;\nvar active = false;\nvar mouseX = 0, mouseY = 0;\nvar size = 250, tspeed = 20;\nvar lasta = 1, lastb = 1;\nvar howElliptical = 1, d = 600;\n\nlet update = () => {\n    let a,b;\n    if(active){\n        a = (-Math.min( Math.max( -mouseY, -size), size) / radius) * tspeed;\n        b = (Math.min( Math.max( -mouseX, -size ), size ) / radius ) * tspeed;\n    }else{\n        a = lasta * 1\n        b = lastb * 1\n    }\n\n    lasta = a;\n    lastb = b;\n\n    if(Math.abs(a) <= 0.01 && Math.abs(b) <= 0.01){\n        return;\n    }\n\n    let c = 0;\n    sineCosine(a, b, c);\n\n    for(let j=0; j<mcList.length; j++){\n        let rx1=mcList[j].cx;\n\t\tlet ry1=mcList[j].cy*ca+mcList[j].cz*(-sa);\n\t\tlet rz1=mcList[j].cy*sa+mcList[j].cz*ca;\n\t\t\n\t\tlet rx2=rx1*cb+rz1*sb;\n\t\tlet ry2=ry1;\n\t\tlet rz2=rx1*(-sb)+rz1*cb;\n\t\t\n\t\tlet rx3=rx2*cc+ry2*(-sc);\n\t\tlet ry3=rx2*sc+ry2*cc;\n\t\tlet rz3=rz2;\n\t\t\n\t\tmcList[j].cx=rx3;\n\t\tmcList[j].cy=ry3;\n\t\tmcList[j].cz=rz3;\n\t\t\n\t\tlet per= d / ( d+rz3 );\n\t\t\n\t\tmcList[j].x = ( howElliptical*rx3*per ) - ( howElliptical * 2 );\n\t\tmcList[j].y=ry3*per;\n\t\tmcList[j].scale=per;\n        mcList[j].alpha=per;\n        \n        mcList[j].alpha = (mcList[j].alpha-0.6) * (10 / 6);\n    }\n\n    doPosition();\n    depthSort();\n}\n\nlet depthSort = () => {\n    var i=0;\n\tvar aTmp=[];\n\t\n\tfor(i=0;i<aA.length;i++)\n\t{\n\t\taTmp.push(aA[i]);\n\t}\n\t\n\taTmp.sort(function (vItem1, vItem2)\n\t\t{\n\t\t\tif(vItem1.cz>vItem2.cz)\n\t\t\t{\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\telse if(vItem1.cz<vItem2.cz)\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t);\n\t\n\tfor(i=0;i<aTmp.length;i++)\n\t{\n\t\taTmp[i].style.zIndex=i;\n\t}\n}\n\nlet doPosition = () => {\n    var l=oDiv.offsetWidth/2;\n\tvar t=oDiv.offsetHeight/2;\n\tfor(var i=0;i<mcList.length;i++)\n\t{\n\t\taA[i].style.left=mcList[i].cx+l-mcList[i].offsetWidth/2+'px';\n\t\taA[i].style.top=mcList[i].cy+t-mcList[i].offsetHeight/2+'px';\n\t\t//aA[i].style.fontSize=Math.ceil(12*mcList[i].scale/2)+8+'px';\n\t\taA[i].style.filter=\"alpha(opacity=\"+100*mcList[i].alpha+\")\";\n\t\taA[i].style.opacity=mcList[i].alpha;\n\t}\n}\n\nlet sineCosine = (a, b, c) => {\n    sa = Math.sin(a * dtr);\n    ca = Math.cos(a * dtr);\n    sb = Math.sin(b * dtr);\n    cb = Math.cos(b * dtr);\n    sc = Math.sin(c * dtr);\n    cc = Math.cos(c * dtr);\n}\n\nlet positionAll = () => {\n    let phi = 0;\n    let theta = 0;\n    let max = mcList.length;\n    let i = 0;\n\n    let aTmp = [];\n    let oFragment = document.createDocumentFragment()\n\n    for(i=0; i<aA.length; i++){\n        aTmp.push(aA[i]);\n    }\n\n    aTmp.sort(\n        function(){\n            return Math.random()< 0.5 ? 1 : -1\n        }\n    )\n\n    for(i = 0; i<aTmp.length; i++){\n        oFragment.appendChild(aTmp[i]);\n    }\n\n    oDiv.appendChild(oFragment);\n\n    for(i=1; i< max +1 ; i++){\n        if(distr){\n            phi = Math.acos(-1 + (2*i-1)/ max);\n            theta = Math.sqrt(max*Math.PI)*phi;\n        }else{\n            phi = Math.random()*(Math.PI);\n\t\t\ttheta = Math.random()*(2*Math.PI);\n        }\n\n        mcList[i-1].cx = radius * Math.cos(theta)*Math.sin(phi);\n\t\tmcList[i-1].cy = radius * Math.sin(theta)*Math.sin(phi);\n\t\tmcList[i-1].cz = radius * Math.cos(phi);\n\t\t\n\t\taA[i-1].style.left=mcList[i-1].cx+oDiv.offsetWidth/2-mcList[i-1].offsetWidth/2+'px';\n\t\taA[i-1].style.top=mcList[i-1].cy+oDiv.offsetHeight/2-mcList[i-1].offsetHeight/2+'px';\n\n    }\n\n}\n\nconst WordCloud = (props) => {\n\n    useEffect(() => {\n        let container = document.getElementsByClassName('wordcloud3')[0];\n        \n        // let { width, height } = container.getBoundingClientRect();\n\n        let items = [];\n        data.forEach(item => {\n            items.push(`<a href=\"#\" style=font-size:\"${item.value}px\">${item.key}</a>`)\n        })\n        // 添加元素到container\n        let div = document.createElement('div');\n        div.id = 'div1';\n        div.style.border = 'solid 2px black';\n        div.style.align = 'center';\n        div.innerHTML = items.join( \"\" )\n        container.appendChild(div);\n    })\n\n    useEffect(() => {\n        let oTag = null;\n        oDiv = document.getElementById('div1');\n        aA = oDiv.getElementsByTagName('a');\n        for(let i=0; i< aA.length; i++){\n            oTag = {};\n            oTag.offsetWidth = aA[i].offsetWidth;\n            oTag.offsetHeight = aA[i].offsetHeight;\n            mcList.push(oTag);\n        }\n        \n        sineCosine(0, 0, 0)\n\n        positionAll();\n\n        oDiv.onmouseover = function() {\n            console.log(\"33334433344\", active);\n            active = true;\n        }\n        oDiv.onmouseout = function() {\n            active = false\n        }\n\n        oDiv.onmousemove = function(ev) {\n            var oEvent = window.event || ev;\n\n            mouseX = oEvent.clientX - (oDiv.offsetLeft + oDiv.offsetWidth/2);\n            mouseY = oEvent.clientY - (oDiv.offsetTop + oDiv.offsetHeight/2);\n\n            console.log(\"333334445566\", mouseX, mouseY);\n\n            mouseX /= 5;\n            mouseY /= 5;\n        };\n\n        setInterval(update, 30);\n\n    })\n\n    return(\n        <div style={props.style} className=\"wordcloud3\">\n            \n        </div>\n    )\n}\n\nexport default WordCloud;"]},"metadata":{},"sourceType":"module"}