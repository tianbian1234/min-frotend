{"ast":null,"code":"var _jsxFileName = \"/Users/a/min_frotend/src/components/echarts/map/index.js\";\nimport React, { useEffect, useRef } from 'react';\nimport echarts from 'echarts';\nimport world from '../../../public/geojson/world.json';\nimport initEchars from '../../../public/HOC/init-echarts'; // import { ajax } from '../../../utils/util';\n\nvar draw = function draw() {\n  var Echarts = useRef(null);\n  useEffect(function () {\n    echarts.registerMap('world', world);\n    var myChart = echarts.init(Echarts.current);\n    var chinaGeoCoordMap = {\n      '黑龙江': [127.9688, 45.368],\n      '内蒙古': [110.3467, 41.4899],\n      \"吉林\": [125.8154, 44.2584],\n      '北京市': [116.4551, 40.2539],\n      \"辽宁\": [123.1238, 42.1216],\n      \"河北\": [114.4995, 38.1006],\n      \"天津\": [117.4219, 39.4189],\n      \"山西\": [112.3352, 37.9413],\n      \"陕西\": [109.1162, 34.2004],\n      \"甘肃\": [103.5901, 36.3043],\n      \"宁夏\": [106.3586, 38.1775],\n      \"青海\": [101.4038, 36.8207],\n      \"新疆\": [87.9236, 43.5883],\n      \"西藏\": [91.11, 29.97],\n      \"四川\": [103.9526, 30.7617],\n      \"重庆\": [108.384366, 30.439702],\n      \"山东\": [117.1582, 36.8701],\n      \"河南\": [113.4668, 34.6234],\n      \"江苏\": [118.8062, 31.9208],\n      \"安徽\": [117.29, 32.0581],\n      \"湖北\": [114.3896, 30.6628],\n      \"浙江\": [119.5313, 29.8773],\n      \"福建\": [119.4543, 25.9222],\n      \"江西\": [116.0046, 28.6633],\n      \"湖南\": [113.0823, 28.2568],\n      \"贵州\": [106.6992, 26.7682],\n      \"云南\": [102.9199, 25.4663],\n      \"广东\": [113.12244, 23.009505],\n      \"广西\": [108.479, 23.1152],\n      \"海南\": [110.3893, 19.8516],\n      '上海': [121.4648, 31.2891]\n    };\n    var chinaDatas = [[{\n      name: '黑龙江',\n      value: 0\n    }], [{\n      name: '内蒙古',\n      value: 0\n    }], [{\n      name: '吉林',\n      value: 0\n    }], [{\n      name: '辽宁',\n      value: 0\n    }], [{\n      name: '河北',\n      value: 0\n    }], [{\n      name: '天津',\n      value: 0\n    }], [{\n      name: '山西',\n      value: 0\n    }], [{\n      name: '陕西',\n      value: 0\n    }], [{\n      name: '甘肃',\n      value: 0\n    }], [{\n      name: '宁夏',\n      value: 0\n    }], [{\n      name: '青海',\n      value: 0\n    }], [{\n      name: '新疆',\n      value: 0\n    }], [{\n      name: '西藏',\n      value: 0\n    }], [{\n      name: '四川',\n      value: 0\n    }], [{\n      name: '重庆',\n      value: 0\n    }], [{\n      name: '山东',\n      value: 0\n    }], [{\n      name: '河南',\n      value: 0\n    }], [{\n      name: '江苏',\n      value: 0\n    }], [{\n      name: '安徽',\n      value: 0\n    }], [{\n      name: '湖北',\n      value: 0\n    }], [{\n      name: '浙江',\n      value: 0\n    }], [{\n      name: '福建',\n      value: 0\n    }], [{\n      name: '江西',\n      value: 0\n    }], [{\n      name: '湖南',\n      value: 0\n    }], [{\n      name: '贵州',\n      value: 0\n    }], [{\n      name: '广西',\n      value: 0\n    }], [{\n      name: '海南',\n      value: 0\n    }], [{\n      name: '上海',\n      value: 1\n    }]];\n\n    var convertData = function convertData(data) {\n      var res = [];\n\n      for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = chinaGeoCoordMap[dataItem[0].name];\n        var toCoord = [116.4551, 40.2539];\n\n        if (fromCoord && toCoord) {\n          res.push([{\n            coord: fromCoord,\n            value: dataItem[0].value\n          }, {\n            coord: toCoord\n          }]);\n        }\n      }\n\n      return res;\n    };\n\n    var series = [];\n    [['北京市', chinaDatas]].forEach(function (item, i) {\n      console.log(item);\n      series.push({\n        type: 'lines',\n        zlevel: 2,\n        effect: {\n          show: true,\n          period: 4,\n          //箭头指向速度，值越小速度越快\n          trailLength: 0.02,\n          //特效尾迹长度[0,1]值越大，尾迹越长重\n          symbol: 'arrow',\n          //箭头图标\n          symbolSize: 5 //图标大小\n\n        },\n        lineStyle: {\n          normal: {\n            width: 1,\n            //尾迹线条宽度\n            opacity: 1,\n            //尾迹线条透明度\n            curveness: .3 //尾迹线条曲直度\n\n          }\n        },\n        data: convertData(item[1])\n      }, {\n        type: 'effectScatter',\n        coordinateSystem: 'geo',\n        zlevel: 2,\n        rippleEffect: {\n          //涟漪特效\n          period: 4,\n          //动画时间，值越小速度越快\n          brushType: 'stroke',\n          //波纹绘制方式 stroke, fill\n          scale: 4 //波纹圆环最大限制，值越大波纹越大\n\n        },\n        label: {\n          normal: {\n            show: true,\n            position: 'right',\n            //显示位置\n            offset: [5, 0],\n            //偏移设置\n            formatter: function formatter(params) {\n              //圆环显示文字\n              return params.data.name;\n            },\n            fontSize: 13\n          },\n          emphasis: {\n            show: true\n          }\n        },\n        symbol: 'circle',\n        symbolSize: function symbolSize(val) {\n          return 5 + val[2] * 5; //圆环大小\n        },\n        itemStyle: {\n          normal: {\n            show: false,\n            color: '#f00'\n          }\n        },\n        data: item[1].map(function (dataItem) {\n          return {\n            name: dataItem[0].name,\n            value: chinaGeoCoordMap[dataItem[0].name].concat([dataItem[0].value])\n          };\n        })\n      }, //被攻击点\n      {\n        type: 'scatter',\n        coordinateSystem: 'geo',\n        zlevel: 2,\n        rippleEffect: {\n          period: 4,\n          brushType: 'stroke',\n          scale: 4\n        },\n        label: {\n          normal: {\n            show: true,\n            position: 'right',\n            //offset:[5, 0],\n            color: '#0f0',\n            formatter: '{b}',\n            textStyle: {\n              color: \"#0f0\"\n            }\n          },\n          emphasis: {\n            show: true,\n            color: \"#f60\"\n          }\n        },\n        symbol: 'pin',\n        symbolSize: 50,\n        data: [{\n          name: item[0],\n          value: chinaGeoCoordMap[item[0]].concat([10])\n        }]\n      });\n    });\n    var option = {\n      tooltip: {\n        trigger: 'item',\n        backgroundColor: 'rgba(166, 200, 76, 0.82)',\n        borderColor: '#FFFFCC',\n        showDelay: 0,\n        hideDelay: 0,\n        enterable: true,\n        transitionDuration: 0,\n        extraCssText: 'z-index:100',\n        formatter: function formatter(params, ticket, callback) {\n          //根据业务自己拓展要显示的内容\n          var res = \"\";\n          var name = params.name;\n          var value = params.value[params.seriesIndex + 1];\n          res = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\n          return res;\n        }\n      },\n      backgroundColor: \"#013954\",\n      visualMap: {\n        //图例值控制\n        min: 0,\n        max: 1,\n        calculable: true,\n        show: true,\n        color: ['#f44336', '#fc9700', '#ffde00', '#ffde00', '#00eaff'],\n        textStyle: {\n          color: '#fff'\n        }\n      },\n      geo: {\n        map: 'world',\n        zoom: 1.2,\n        label: {\n          emphasis: {\n            show: false\n          }\n        },\n        roam: true,\n        //是否允许缩放\n        itemStyle: {\n          normal: {\n            color: 'rgba(51, 69, 89, .5)',\n            //地图背景色\n            borderColor: '#516a89',\n            //省市边界线00fcff 516a89\n            borderWidth: 1\n          },\n          emphasis: {\n            color: 'rgba(37, 43, 61, .5)' //悬浮背景\n\n          }\n        }\n      },\n      series: series\n    };\n    myChart.setOption(option);\n  });\n  return React.createElement(\"div\", {\n    ref: Echarts,\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  });\n};\n\nexport default initEcharts({})(draw);","map":{"version":3,"sources":["/Users/a/min_frotend/src/components/echarts/map/index.js"],"names":["React","useEffect","useRef","echarts","world","initEchars","draw","Echarts","registerMap","myChart","init","current","chinaGeoCoordMap","chinaDatas","name","value","convertData","data","res","i","length","dataItem","fromCoord","toCoord","push","coord","series","forEach","item","console","log","type","zlevel","effect","show","period","trailLength","symbol","symbolSize","lineStyle","normal","width","opacity","curveness","coordinateSystem","rippleEffect","brushType","scale","label","position","offset","formatter","params","fontSize","emphasis","val","itemStyle","color","map","concat","textStyle","option","tooltip","trigger","backgroundColor","borderColor","showDelay","hideDelay","enterable","transitionDuration","extraCssText","ticket","callback","seriesIndex","visualMap","min","max","calculable","geo","zoom","roam","borderWidth","setOption","height","initEcharts"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport echarts from 'echarts';\nimport world from '../../../public/geojson/world.json';\nimport initEchars from '../../../public/HOC/init-echarts';\n// import { ajax } from '../../../utils/util';\n\nconst draw = () => {\n    let Echarts = useRef(null);\n    useEffect(()=>{\n        echarts.registerMap('world', world);\n        let myChart = echarts.init(Echarts.current)\n        var chinaGeoCoordMap = {   \n            '黑龙江': [127.9688, 45.368],\n            '内蒙古': [110.3467, 41.4899],\n            \"吉林\": [125.8154, 44.2584],\n            '北京市': [116.4551, 40.2539],\n            \"辽宁\": [123.1238, 42.1216],\n            \"河北\": [114.4995, 38.1006],\n            \"天津\": [117.4219, 39.4189],\n            \"山西\": [112.3352, 37.9413],\n            \"陕西\": [109.1162, 34.2004],\n            \"甘肃\": [103.5901, 36.3043],\n            \"宁夏\": [106.3586, 38.1775],\n            \"青海\": [101.4038, 36.8207],\n            \"新疆\": [87.9236, 43.5883],\n            \"西藏\": [91.11, 29.97],\n            \"四川\": [103.9526, 30.7617],\n            \"重庆\": [108.384366, 30.439702],\n            \"山东\": [117.1582, 36.8701],\n            \"河南\": [113.4668, 34.6234],\n            \"江苏\": [118.8062, 31.9208],\n            \"安徽\": [117.29, 32.0581],\n            \"湖北\": [114.3896, 30.6628],\n            \"浙江\": [119.5313, 29.8773],\n            \"福建\": [119.4543, 25.9222],\n            \"江西\": [116.0046, 28.6633],\n            \"湖南\": [113.0823, 28.2568],\n            \"贵州\": [106.6992, 26.7682],\n            \"云南\": [102.9199, 25.4663],\n            \"广东\": [113.12244, 23.009505],\n            \"广西\": [108.479, 23.1152],\n            \"海南\": [110.3893, 19.8516],\n            '上海': [121.4648, 31.2891]\n        };\n        var chinaDatas = [\n            [{\n                name: '黑龙江',\n                value: 0\n            }],\t[{\n                name: '内蒙古',\n                value: 0\n            }],\t[{\n                name: '吉林',\n                value: 0\n            }],\t[{\n                name: '辽宁',\n                value: 0\n            }],\t[{\n                name: '河北',\n                value: 0\n            }],\t[{\n                name: '天津',\n                value: 0\n            }],\t[{\n                name: '山西',\n                value: 0\n            }],\t[{\n                name: '陕西',\n                value: 0\n            }],\t[{\n                name: '甘肃',\n                value: 0\n            }],\t[{\n                name: '宁夏',\n                value: 0\n            }],\t[{\n                name: '青海',\n                value: 0\n            }],\t[{\n                name: '新疆',\n                value: 0\n            }],[{\n                name: '西藏',\n                value: 0\n            }],\t[{\n                name: '四川',\n                value: 0\n            }],\t[{\n                name: '重庆',\n                value: 0\n            }],\t[{\n                name: '山东',\n                value: 0\n            }],\t[{\n                name: '河南',\n                value: 0\n            }],\t[{\n                name: '江苏',\n                value: 0\n            }],\t[{\n                name: '安徽',\n                value: 0\n            }],\t[{\t\n                name: '湖北',\n                value: 0\n            }],\t[{\n                name: '浙江',\n                value: 0\n            }],\t[{\n                name: '福建',\n                value: 0\n            }],\t[{\n                name: '江西',\n                value: 0\n            }],\t[{\n                name: '湖南',\n                value: 0\n            }],\t[{\n                name: '贵州',\n                value: 0\n            }],[{\n                name: '广西',\n                value: 0\n            }],\t[{\n                name: '海南',\n                value: 0\n            }],\t[{\n                name: '上海',\n                value: 1\n            }]\n        ];\n    \n        var convertData = function(data) {\n            var res = [];\n            for(var i = 0; i < data.length; i++) {\n                var dataItem = data[i];\n                var fromCoord = chinaGeoCoordMap[dataItem[0].name];\n                var toCoord = [116.4551,40.2539];\n                if(fromCoord && toCoord) {\n                    res.push([{\n                        coord: fromCoord,\n                        value: dataItem[0].value\n                    }, {\n                        coord: toCoord,\n                    }]);\n                }\n            }\n            return res;\n        };\n        var series = [];\n        [['北京市', chinaDatas]].forEach(function(item, i) {\n            console.log(item)\n            series.push({\n                    type: 'lines',\n                    zlevel: 2,\n                    effect: {\n                        show: true,\n                        period: 4, //箭头指向速度，值越小速度越快\n                        trailLength: 0.02, //特效尾迹长度[0,1]值越大，尾迹越长重\n                        symbol: 'arrow', //箭头图标\n                        symbolSize: 5, //图标大小\n                    },\n                    lineStyle: {\n                        normal: {\n                            width: 1, //尾迹线条宽度\n                            opacity: 1, //尾迹线条透明度\n                            curveness: .3 //尾迹线条曲直度\n                        }\n                    },\n                    data: convertData(item[1])\n                }, {\n                    type: 'effectScatter',\n                    coordinateSystem: 'geo',\n                    zlevel: 2,\n                    rippleEffect: { //涟漪特效\n                        period: 4, //动画时间，值越小速度越快\n                        brushType: 'stroke', //波纹绘制方式 stroke, fill\n                        scale: 4 //波纹圆环最大限制，值越大波纹越大\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            position: 'right', //显示位置\n                            offset: [5, 0], //偏移设置\n                            formatter: function(params){//圆环显示文字\n                                return params.data.name;\n                            },\n                            fontSize: 13\n                        },\n                        emphasis: {\n                            show: true\n                        }\n                    },\n                    symbol: 'circle',\n                    symbolSize: function(val) {\n                        return 5+ val[2] * 5; //圆环大小\n                    },\n                    itemStyle: {\n                        normal: {\n                            show: false,\n                            color: '#f00'\n                        }\n                    },\n                    data: item[1].map(function(dataItem) {\n                        return {\n                            name: dataItem[0].name,\n                            value: chinaGeoCoordMap[dataItem[0].name].concat([dataItem[0].value])\n                        };\n                    }),\n                },\n                //被攻击点\n                {\n                    type: 'scatter',\n                    coordinateSystem: 'geo',\n                    zlevel: 2,\n                    rippleEffect: {\n                        period: 4,\n                        brushType: 'stroke',\n                        scale: 4\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            position: 'right',\n                            //offset:[5, 0],\n                            color: '#0f0',\n                            formatter: '{b}',\n                            textStyle: {\n                                color: \"#0f0\"\n                            }\n                        },\n                        emphasis: {\n                            show: true,\n                            color: \"#f60\"\n                        }\n                    },\n                    symbol: 'pin',\n                    symbolSize: 50,\n                    data: [{\n                        name: item[0],\n                        value: chinaGeoCoordMap[item[0]].concat([10]),\n                    }],\n                }\n            );\n        });\n\n        let option = {\n            tooltip: {\n                trigger: 'item',\n                backgroundColor: 'rgba(166, 200, 76, 0.82)',\n                borderColor: '#FFFFCC',\n                showDelay: 0,\n                hideDelay: 0,\n                enterable: true,\n                transitionDuration: 0,\n                extraCssText: 'z-index:100',\n                formatter: function(params, ticket, callback) {\n                    //根据业务自己拓展要显示的内容\n                    var res = \"\";\n                    var name = params.name;\n                    var value = params.value[params.seriesIndex + 1];\n                    res = \"<span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value;\n                    return res;\n                }\n            },\n            backgroundColor:\"#013954\",\n            visualMap: { //图例值控制\n                min: 0,\n                max: 1,\n                calculable: true,\n                show: true,\n                color: ['#f44336', '#fc9700', '#ffde00', '#ffde00', '#00eaff'],\n                textStyle: {\n                    color: '#fff'\n                }\n            },\n            geo: {\n                map: 'world',\n                zoom: 1.2,\n                label: {\n                    emphasis: {\n                        show: false                                                                                                                   \n                    }\n                },\n                roam: true, //是否允许缩放\n                itemStyle: {\n                    normal: {\n                        color: 'rgba(51, 69, 89, .5)', //地图背景色\n                        borderColor: '#516a89', //省市边界线00fcff 516a89\n                        borderWidth: 1\n                    },\n                    emphasis: {\n                        color: 'rgba(37, 43, 61, .5)' //悬浮背景\n                    }\n                }\n            },\n            series: series\n        };\n        myChart.setOption(option);\n    })\n\n    return(\n        <div ref={Echarts} style={{width: '100%', height: '100%'}}></div>\n    )\n}\n\nexport default initEcharts({})(draw);"]},"metadata":{},"sourceType":"module"}